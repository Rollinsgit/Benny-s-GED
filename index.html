<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    <title>Benny's GED Sprint Hub</title>
    <style>
        /* Keeping your excellent styling, adding minor mobile polish */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 10px; color: #333; min-height: 100vh; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { background: white; padding: 20px; border-radius: 15px; margin-bottom: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .header h1 { color: #667eea; margin-bottom: 5px; font-size: 1.5rem; }
        .sync-badge { display: inline-block; padding: 8px 16px; border-radius: 20px; font-size: 0.8rem; margin-top: 10px; font-weight: 600; background: #e74c3c; color: white; }
        .sync-badge.online { background: #27ae60; }
        .tabs { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
        .tab-btn { background: white; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; color: #666; border: none; font-size: 0.95rem; transition: all 0.2s; flex: 1; min-width: 120px; }
        .tab-btn.active { background: #333; color: white; }
        .content { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none; }
        .content.active { display: block; }
        .section { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #667eea; }
        .section h3 { color: #667eea; margin-bottom: 10px; font-size: 1.1rem; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { text-align: left; padding: 10px; background: #667eea; color: white; font-size: 0.8rem; }
        td { padding: 10px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        .status-pill { padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: bold; background: #ddd; }
        .current { background: #f1c40f; color: #000; }
        input[type="checkbox"] { width: 22px; height: 22px; accent-color: #27ae60; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìê Benny's GED Sprint Hub</h1>
            <p>Target: 145 Score | Subject: Mathematics</p>
            <div class="sync-badge" id="syncBadge">Connecting...</div>
        </div>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('math', this)">üìê Math Map</button>
            <button class="tab-btn" onclick="switchTab('schedule', this)">üìÖ Weekly</button>
            <button class="tab-btn" onclick="switchTab('manage', this)">‚öôÔ∏è Settings</button>
        </div>

        <div id="math" class="content active">
            <h2>USAHello Math Syllabus</h2>
            <div class="section">
                <h3>Module 1: Basic Math Foundations</h3>
                <table>
                    <tr><th>Lesson</th><th>Topic</th><th>Done</th></tr>
                    <tr><td>1</td><td>Place Value & Rounding</td><td><input type="checkbox" id="m-l1"></td></tr>
                    <tr><td>2</td><td>Fractions (Add/Sub)</td><td><input type="checkbox" id="m-l2"></td></tr>
                    <tr><td>3</td><td>Decimals <span class="status-pill current">CURRENT</span></td><td><input type="checkbox" id="m-l3"></td></tr>
                    <tr><td>4</td><td>Multi/Div Fractions</td><td><input type="checkbox" id="m-l4"></td></tr>
                    <tr><td>5</td><td>Percents & Ratios</td><td><input type="checkbox" id="m-l5"></td></tr>
                    <tr><td>6</td><td>Exponents & Roots</td><td><input type="checkbox" id="m-l6"></td></tr>
                    <tr><td>7</td><td>Order of Operations</td><td><input type="checkbox" id="m-l7"></td></tr>
                </table>
            </div>

            <div class="section">
                <h3>Module 2: Geometry</h3>
                <table>
                    <tr><td>8</td><td>Perimeter & Area</td><td><input type="checkbox" id="m-l8"></td></tr>
                    <tr><td>9</td><td>Circles & Pi</td><td><input type="checkbox" id="m-l9"></td></tr>
                    <tr><td>10</td><td>Pythagorean Theorem</td><td><input type="checkbox" id="m-l10"></td></tr>
                    <tr><td>11</td><td>Volume</td><td><input type="checkbox" id="m-l11"></td></tr>
                    <tr><td>12</td><td>Surface Area</td><td><input type="checkbox" id="m-l12"></td></tr>
                </table>
            </div>
            </div>

        <div id="schedule" class="content">
            <h2>Weekly Progress</h2>
            <div class="section">
                <table>
                    <tr><th>Activity</th><th>M</th><th>T</th><th>W</th><th>Th</th><th>F</th></tr>
                    <tr><td>Morning Math</td><td><input type="checkbox" id="mo-m"></td><td><input type="checkbox" id="mo-t"></td><td><input type="checkbox" id="mo-w"></td><td><input type="checkbox" id="mo-th"></td><td><input type="checkbox" id="mo-f"></td></tr>
                    <tr><td>Afternoon RLA</td><td><input type="checkbox" id="af-m"></td><td><input type="checkbox" id="af-t"></td><td><input type="checkbox" id="af-w"></td><td><input type="checkbox" id="af-th"></td><td><input type="checkbox" id="af-f"></td></tr>
                </table>
            </div>
            <button class="btn btn-danger" onclick="doReset()" style="background:#e74c3c; color:white; padding:10px; border:none; border-radius:5px; width:100%;">Clear Weekly Board</button>
        </div>

        <div id="manage" class="content">
            <h2>Cloud Settings</h2>
            <div class="section">
                <p>Firebase Status: <span id="dbLink">Configured</span></p>
                <p style="font-size: 0.8rem; color: #666; margin-top: 10px;">This dashboard syncs every 3 seconds to the Firebase Realtime Database.</p>
            </div>
        </div>
    </div>

    <script>
        const FIREBASE_URL = 'https://schooling-dashboard-default-rtdb.firebaseio.com';

        function switchTab(tabName, btn) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            btn.classList.add('active');
        }

        function saveCheckboxes() {
            const data = {};
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                data[cb.id] = cb.checked;
            });
            fetch(FIREBASE_URL + '/checks.json', {
                method: 'PUT',
                body: JSON.stringify(data),
                headers: { 'Content-Type': 'application/json' }
            }).catch(e => console.error('Sync Error:', e));
        }

        function loadCheckboxes() {
            fetch(FIREBASE_URL + '/checks.json')
                .then(r => r.json())
                .then(data => {
                    if (data) {
                        Object.entries(data).forEach(([id, checked]) => {
                            const el = document.getElementById(id);
                            if (el) el.checked = checked;
                        });
                        document.getElementById('syncBadge').textContent = '‚òÅÔ∏è Cloud Synced';
                        document.getElementById('syncBadge').classList.add('online');
                    }
                })
                .catch(() => {
                    document.getElementById('syncBadge').textContent = '‚ö†Ô∏è Offline';
                    document.getElementById('syncBadge').classList.remove('online');
                });
        }

        function doReset() {
            if(confirm("Reset all weekly progress?")) {
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
                saveCheckboxes();
            }
        }

        // Auto-sync every 3 seconds
        setInterval(loadCheckboxes, 3000);

        window.addEventListener('load', () => {
            loadCheckboxes();
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                cb.addEventListener('change', saveCheckboxes);
            });
        });
    </script>
</body>
</html>
